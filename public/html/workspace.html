<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

        <link rel="stylesheet" href="/demo.css" type="text/css" media="screen">

        <style type="text/css" media="screen">
            p { text-align: center; }
        </style>
        
        <script src="//cdn.socket.io/socket.io-1.3.5.js"" type="text/javascript" charset="utf-8"></script>
        <script src="/hammer.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="/raphael.js" type="text/javascript" charset="utf-8"></script>
        <script src="/person.js" type="text/javascript" charset="utf-8"></script>
        <script src="/relation.js" type="text/javascript" charset="utf-8"></script>
		<script src="/fabric.js" type="text/javascript" charset="utf-8"></script>
    </head>
    <body>
        <!--p>Drag shapes around.</p-->
        <!--div id="holder" data-trigger="add_element"></div-->
		<canvas id="c" width="1024" height="768" style="border:1px solid #ccc"></canvas>
		
		<script src="/menu.js" type="text/javascript" charset="utf-8"></script>	
		<script src="/graph.js" type="text/javascript" charset="utf-8"></script>
        
		<script> 
			var io = io.connect();	
			
			io.on('connect', function(socket) {
				console.log('connect');
			});
			
			io.on('newPerson', function(person) {
				console.log('newPerson');
				console.log(person);
				var personelement = new PersonElement(); 
				
				console.log(personelement); 
// 				personelement.person(); 
// 				personelement.setLeft(person.position.x)
				personelement.setTop(person.position.y);
// 				personelement.image.setTop(person.position.y);  
			}); 
			
			io.on('updatePersonPosition', function(person) {
				console.log('updatePersonPosition'); 
				console.log(person); 
			}); 
				
			io.on('newRelation', function(relation) {
				console.log('newRelation');
				console.log(relation);
				
			});
			
			io.on('deleteElement', function(elementID) {
				console.log('deleteElement'); 
				console.log(elementID); 
				
			}); 
			
			function newPerson(position, size) { io.emit('newPerson', {'position': position, 'size': size}); }
			
			function newRelation(element1, element2) { io.emit('newRelation', {'firstElement': element1, 'secondElement': element2}); }
			
			function deleteElement(id) { io.emit('deleteElement', {'id': id }); }
			
			function updatePersonPosition(id, pos) { io.emit('updatePersonPosition', {'id': id, 'position': pos }) }
			
		</script>
		<!--script src="/graffle.js" type="text/javascript" charset="utf-8"></script-->
    </body>
</html>
